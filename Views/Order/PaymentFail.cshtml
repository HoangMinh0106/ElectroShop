@{
    ViewData["Title"] = "Thanh toán Thất bại";
}

<style>
    body {
        background-color: #1a1a1a;
        color: #f8f9fa;
    }

    .status-container {
        max-width: 700px;
        margin: 4rem auto;
        background-color: #2c2c2c;
        padding: 3rem;
        border-radius: 16px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }

    .failure-icon {
        font-size: 5rem;
        color: #d9232d; /* Màu đỏ thất bại */
    }

    .status-title {
        font-size: 2rem;
        font-weight: 600;
        margin-top: 1.5rem;
    }

    .status-subtitle {
        color: #adb5bd;
        font-size: 1.1rem;
    }

    .error-reason {
        margin-top: 1.5rem;
        padding: 1rem;
        background-color: #1a1a1a;
        border-radius: 8px;
        border: 1px solid #555;
        text-align: left;
    }
    
    .btn-custom-red {
        background-color: #d9232d; 
        border-color: #d9232d; 
        color: white;
        padding: 12px 30px; 
        font-weight: 500;
        font-size: 1rem;
        border-radius: 8px;
    }
    .btn-custom-red:hover {
        background-color: #b01c24; 
        border-color: #a51a21; 
        color: white;
    }
</style>

<div class="container">

    <div class="status-container">
        <div class="failure-icon">
            <i class="bi bi-x-circle-fill"></i>
        </div>
        <h2 class="status-title">Thanh toán thất bại!</h2>
        <p class="status-subtitle">Rất tiếc, đã có lỗi xảy ra trong quá trình xử lý thanh toán.</p>

        @if (TempData["Message"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert" id="orderSuccessAlert">
            @TempData["Message"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                setTimeout(function () {
                    var alertBox = document.getElementById('orderSuccessAlert');
                    if (alertBox) {
                        alertBox.style.opacity = '0';
                        setTimeout(function () {
                            alertBox.style.display = 'none';
                        }, 500);
                    }
                }, 1000);
            });
        </script>
    }

        <hr class="my-4" style="border-color: #4a4a4a;"/>

        <p class="text-muted">Vui lòng thử lại hoặc chọn phương thức thanh toán khác.</p>

        <div class="d-flex justify-content-center gap-3 mt-4">
             <a asp-controller="Home" asp-action="Index" class="btn btn-outline-light">Về trang chủ</a>
             <a asp-controller="Order" asp-action="Checkout" class="btn btn-custom-red">Thử lại thanh toán</a>
        </div>
    </div>

</div>